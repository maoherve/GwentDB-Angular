<div class="container mt-5">

  <div>
    <h2 *ngIf="onEdition">Update card :</h2>
    <h2 *ngIf="!onEdition">Create card :</h2>
  </div>

  <form [formGroup]="creationForm" (submit)="creationCard()">

    <div class="col-sm-6 col-md-4" >
      <label>Card name</label>
      <input placeholder="Name"
             type="text"
             class="form-control"
             formControlName="name"
             [class.is-invalid]="(name.touched || name.dirty) && name.invalid"
             [class.is-valid]="name.valid"
      >
      <div *ngIf="(name.touched || name.dirty) && name.invalid"
          class="alert-danger"
      >
        <div *ngIf="name.errors?.['required']">
          Le nom est obligatoire
        </div>
      </div>
    </div>

    <div class="col-sm-6 col-md-4">
      <label>Card picture</label>
      <input placeholder="Picture" type="text" name="CardPicture" class="form-control" formControlName="picture">
    </div>

    <div class="col-sm-6 col-md-4">
      <label>Card level</label>
      <input placeholder="Level" type="number" min="1" name="CardLevel" class="form-control" formControlName="powerLvl">
    </div>

    <div class="col-sm-6 col-md-4">
      <label>Card description</label>
      <input placeholder="Description" type="text" name="CardDescription" class="form-control" formControlName="description">
    </div>

    <div class="col-sm-6 col-md-4">
      <label>Card location</label>
      <input placeholder="Location" type="text" name="CardLocation" class="form-control" formControlName="location">
    </div>

    <div class="col-sm-6 col-md-4">
      <label for="ability">Choose an ability:</label>
      <select class="form-select" id="ability" formControlName="ability">
        <option [selected]="true" disabled>Choose an option</option>
        <option label="BERSERKER">BERSERKER</option>
        <option label="COMMANDER">COMMANDER</option>
        <option label="DECOY">DECOY</option>
        <option label="MEDIC">MEDIC</option>
        <option label="MORALE_BOOST">MORALE_BOOST</option>
        <option label="MARDROEME">MARDROEME</option>
        <option label="MUSTER">MUSTER</option>
        <option label="SCORCH">SCORCH</option>
        <option label="SPY">SPY</option>
        <option label="TIGHT_BOND">TIGHT_BOND</option>
        <option label="SUMMON_AVENGER">SUMMON_AVENGER</option>
      </select>
    </div>

    <div class="col-sm-6 col-md-4">
      <label for="row">Choose an row:</label>
      <select class="form-select" id="row" formControlName="rowName">
        <option *ngFor="let rowName of rowNames"
                [ngValue]="rowName"
                [disabled]="rowName === 'Choose an option'"
        >{{rowName}}</option>
      </select>
    </div>

    <div class="col-sm-6 col-md-4">
      <label for="type">Choose a type:</label>
      <select class="form-select" id="type"  formControlName="type">
        <option [selected]="true" disabled value="0">Choose an option</option>
        <option label="UNIT" value="UNIT">UNIT</option>
        <option label="LEADER" value="LEADER">LEADER</option>
        <option label="HERO" value="HERO">HERO</option>
        <option label="SPECIAL" value="SPECIAL">SPECIAL</option>
      </select>
    </div>


<!--    <div class="col-sm-6 col-md-4">-->
<!--      <label for="cardDeck">Choose a cardDeck:</label>-->
<!--      <select class="form-select" id="cardDeck"  formControlName="cardDeck">-->
<!--        <option [selected]="true" disabled value="0">Choose an option</option>-->
<!--        <option *ngFor="let cardDeck of cardDecks" [ngValue]="cardDeck">-->
<!--          {{ cardDeck.name }}-->
<!--        </option>-->
<!--      </select>-->
<!--    </div>-->

    <div *ngIf="error != ''">
      <p>{{error}}</p>
    </div>

    <div class="mt-2">
      <button type="submit" class="btn btn-success"
              *ngIf="!onEdition"
              [disabled]="creationForm.invalid"
      >
        Create
      </button>
      <button type="submit" class="btn btn-success"
              *ngIf="onEdition"
              [disabled]="creationForm.invalid"
      >
        Update
      </button>
    </div>

  </form>
</div>
